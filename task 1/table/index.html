<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Submission</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: lightgray;
            padding: 0;
            margin: 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            white-space: nowrap;
        }
        th, td {
            border: 1px solid black;
            text-align: left;
        }
        tr > td:nth-child(1) {
            background-color: lightgray;
            text-align: center;
        }
        input[type="text"] {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        button {
            padding: 10px 20px;
            background-color: gray;
            color: black;
            font-weight: bold;
            border: 1px solid white;
            cursor: pointer;
            float: right;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const initialTasks = [
                { col1: 'Onboarding Call', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Google Search Console Access', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Google Analytics Access', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Website Access', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Technical Audit', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Anchor Text and Semantic Analysis', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Competitor Analysis', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Anchor Text / URL Mapping', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Google Data Studio Report + Local Reporting Suite', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Site Level Optimization', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'On Page Optimization', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Content Creation', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Content Publishing', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Premium Press Release', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Authority Niche Placements', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Review Management', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Index Links', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' },
                { col1: 'Video Recap', col2: '', col3: '', col4: '', col5: '', col6: '', col7: '', col8: '' }
            ];

            const [tasks, setTasks] = useState(initialTasks);

            const handleEdit = (index, field, value) => {
                const updatedTasks = [...tasks];
                updatedTasks[index][field] = value;
                setTasks(updatedTasks);
            };

            const handleSubmit = async (e) => {
                e.preventDefault(); 
                console.log("Submitting tasks:", tasks); 

                try {
                    const response = await fetch('https://yourtestapi.com', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(tasks),
                    });

                    if (response.ok) {
                        const data = await response.json();
                        console.log('Success:', data);
                        alert("Data submitted successfully!");
                    } else {
                        console.error('Failed to submit:', response.statusText);
                        alert(`Failed to submit data: ${response.statusText}`);
                    }
                } catch (error) {
                    console.error('Error during submission:', error);
                    alert(`Error during submission: ${error.message}`);
                }
            };

            return (
                <div>
                    <form onSubmit={handleSubmit}>
                        <table>
                            <tbody>
                                <tr>
                                    <td colSpan="8" style={{ textAlign: 'left', backgroundColor: "lightgray", fontWeight: 'bold',  }}>
                                        MONTH 1
                                        <button type="submit">Post Data</button>
                                    </td>
                                </tr>
                                {tasks.map((task, index) => (
                                    <React.Fragment key={index}>
                                        <tr>
                                            <td>
                                                <span>{task.col1}</span>
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col2}
                                                    onChange={(e) => handleEdit(index, 'col2', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col3}
                                                    onChange={(e) => handleEdit(index, 'col3', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col4}
                                                    onChange={(e) => handleEdit(index, 'col4', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col5}
                                                    onChange={(e) => handleEdit(index, 'col5', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col6}
                                                    onChange={(e) => handleEdit(index, 'col6', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col7}
                                                    onChange={(e) => handleEdit(index, 'col7', e.target.value)}
                                                />
                                            </td>
                                            <td>
                                                <input
                                                    style={{ border: "none", outline: "none" }}
                                                    type="text"
                                                    value={task.col8}
                                                    onChange={(e) => handleEdit(index, 'col8', e.target.value)}
                                                />
                                            </td>
                                        </tr>
                                    </React.Fragment>
                                ))}
                            </tbody>
                        </table>
                    </form>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
